<% content_for :title, "To-Do List" %>

<h1>Ma To-Do List</h1>

<% if notice.present? %>
  <p style="color: green; padding: 10px; background: #e8f5e9; border-radius: 5px;"><%= notice %></p>
<% end %>

<% if @stats %>
  <div style="margin: 20px 0; padding: 15px; background: #f5f5f5; border-radius: 5px;">
    <strong>Statistiques :</strong>
    <%= @stats[:completed] %>/<%= @stats[:total] %> terminées
    (<%= @stats[:completion_rate] %>%)
  </div>
<% end %>

<div id="tasks">
  <% if @tasks.any? %>
    <% @tasks.each do |task| %>
      <%= render task %>
    <% end %>
  <% else %>
    <p style="color: #666; font-style: italic;">Aucune tâche pour le moment.</p>
  <% end %>
</div>

<div style="margin-top: 20px;">
  <%= link_to "Nouvelle tâche", new_task_path, style: "padding: 10px 20px; background: #2196F3; color: white; text-decoration: none; border-radius: 5px;" %>
</div>
